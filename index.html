<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="The geek&apos;s spirit place">
<meta property="og:type" content="website">
<meta property="og:title" content="Live's blog">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Live's blog">
<meta property="og:description" content="The geek&apos;s spirit place">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Live's blog">
<meta name="twitter:description" content="The geek&apos;s spirit place">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: 'Author'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/"/>

  <title> Live's blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Live's blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Tech is the highend direction</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/29/决策树/" itemprop="url">
                  决策树-C50
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-08-29T06:07:55+08:00" content="2016-08-29">
              2016-08-29
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>无意间看到data flow上的一个常用的数据集，于是就下了下来，这是一个关于银行客户违约的数据集，这正好让我有了对C5.0实践的一个想法。<br>这个数据集中的字段：账户余额，工作年限，贷款/收入比，居住年限，年龄，其他信用记录，房产，现有贷款账户，工作类型，受抚养人，电话，违约情况<br>下面说一下大体做法<br>‘’ set.seed(1024)#建立种子点<br>‘’ credit_sample &lt;- credit[order(runif(1000)), ]#抽取1000条作为样本</p>
<p>‘’ train &lt;- credit_sample[1:900, ]#按照1：9的比例设立训练集<br>‘’ test  &lt;- credit_sample[901:1000, ]#建立测试集</p>
<p>‘’ library(C50)<br>‘’ credit_model &lt;- C5.0(train[-17], train$default)#建立C50模型</p>
<p>‘’ credit_pred &lt;- predict(credit_model, test)#运用测试集来预测结果</p>
<p>具体结果是酱紫：<br>‘’ Total Observations in Table: 100<br>‘’<br>‘’<br>‘’                | predicted default<br>‘’ acutal default | no | yes | Row Total |<br>‘’ —————|———–|———–|———–|<br>‘’             no | 57 | 11 | 68 |<br>‘’                | 0.570 | 0.110 | |<br>‘’ —————|———–|———–|———–|<br>‘’            yes | 16 | 16 | 32 |<br>‘’                | 0.160 | 0.160 | |<br>‘’ —————|———–|———–|———–|<br>‘’   Column Total | 73 | 27 | 100 |<br>‘’ —————|———–|———–|———–|<br>可以看到应用到测试集，该模型正确率73%，只识别了实际违约贷款32人中的50%，显然不够理想。<br>在后期，对于决策树是可以用剪枝来进行修缮的，对于提高准确率，可以运用bagging、boosting和随机森林，特别的可以运用悲观剪枝法来提高模型的准确率，这是一种后剪枝的方法。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/28/R的骚图绘制/" itemprop="url">
                  R的骚图绘制
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-08-28T19:55:42+08:00" content="2016-08-28">
              2016-08-28
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>来来来，说到R的绘图那么不得不提的就是ggplot2了，被誉为R中最高大上的绘图系统。对于ggplot2的思想和理念也是由衷的佩服，之前拜读《Elegant Graphics for Data Analysis》的时候就对作者Wickham有着不小的敬畏之心，虽然这本书写的很混乱，但是也让我初识了ggplot2的厉害，之后不断的应用，也让更深层的认识了ggplot2的精髓和思想。<br>想到为了让图画的更加骚气，毫不犹豫的用上了Rcolorbrewer，在不断调试中让图变得更加亮眼<br>对了，对于Rcolorbrewer大家应该都很熟悉，但是可能却不太了解其中的具体信息，其实这个包中有三类调色板，一个是sequential，一个是diverging，还有一个是qualitative，sequential调色板适合用于呈现顺序数据而diverging适合用于处在极端的数值，可以用来强调高低的对比，最后一个qualitative调色板颜色都特别的鲜明，对比度都特别高，所以适合用来呈现分类变量。用brewer.pal.info可以查看详情，display.brewer.pal查看颜色图谱而最关键的是可以与colorRamp/colorRampPalette结合使用。<br>其中会用到scale_color_manual来设置调色板参数<br><img src="http://ocf3bi6ej.bkt.clouddn.com/Rplot03.png" alt="login"><br><img src="http://ocf3bi6ej.bkt.clouddn.com/Rplot_Paired.png" alt="login"><br><img src="http://ocf3bi6ej.bkt.clouddn.com/Rplot02.png" alt="login"><br>其中用到了qualitative调色板中的Paired主题。<br>还可以用玫瑰图绘制，颜色和形状会更加绚丽，待我有空格上更加骚气的图！</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/28/wordcloud2/" itemprop="url">
                  词云---有意思的呈现
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-08-28T17:03:16+08:00" content="2016-08-28">
              2016-08-28
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>关于R的词云<br>看到最近郎大为的R包出产了，作为一个新的R包特别是在词云解决方案上，已经足够让广大R迷或者说词云粉丝，也或许是段子手们为之兴奋了。<br>对于这次的wordcloud2的出现，外界的评价都特别高，被称为目前最好的词云解决方案。<br>那么先来开膛破肚的介绍下这个包的原理，其实这个新的词云包用的是wordcloud2.js的库，在调用这个库的同时，利用词与词之间的间隔来插入数据，其中一个新的feature是可以根据图片或者文字来定制化词云，其实也就是说可以做到词云的多样化。<br>先来张拿到这个包的上手词云图</p>
<p><img src="http://ocf3bi6ej.bkt.clouddn.com/Rplot.png" alt="login"></p>
<p>这个是用到了其中的核心函数wordcloud2(),在调整了下背景后生成的</p>
<p><img src="http://ocf3bi6ej.bkt.clouddn.com/Rplot01.png" alt="login"></p>
<p>这个是用到了词云包里的新特性，就是根据自己的喜好生成了一幅自己定制词云，这个反战符号是用Sketch手动绘制的，因为比较心焦的想试下新特性，最先想到的就是这个比较简单，并且结构比较鲜明的符号。<br>此次词云包的新特性还有很多情景派的上用场，这让我想到了用户画像的词云定制，特别是在P2P金融的反欺诈用户的画像中，也可以用这种新特性完成，这个词云包简直是个好东西！</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/27/关于时效的SQL代码/" itemprop="url">
                  关于时效的SQL代码
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-08-27T11:22:00+08:00" content="2016-08-27">
              2016-08-27
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="产品线的时效问题"><a href="#产品线的时效问题" class="headerlink" title="产品线的时效问题"></a>产品线的时效问题</h2><p>这两天一直受制于各产品的时效问题没有好的方案，起因是需求啊！！还是需求！！老大对于整个产品线的优化问题到了一个新的高度，同行业的审批流程一直在下降，但是对于风控的要求还是不能有过多的取舍，谁让鱼和熊掌不能够兼得，即想有好的MOB数据，又要减少审批时间，那么需求来了，到底应该优化哪个阶段的时效呢？</p>
<p> 于是有了以下的代码</p>
<hr>
<p>‘’ select  ‘<br>‘’ 2016-06-12    ‘ as 周期, kx.产品线, kx.初审, sum(kx.初审等待) 初审等待, sum（kx.初审处理）初审处理, sum(时效3) 时效3, count(transport_id) 初审时效处理量<br>‘’ from (<br>‘’ select<br>‘’      transport_id, cs 初审, product as 产品,  round(cs_dd,2) as 初审等待 ,  round(cs_cl,2) as 初审处理,   round(cs_dd + cs_cl ,2) as 时效3 ,<br>‘’     (case<br>‘’     when substr(product,0,3) in （’新薪贷’,’精英贷’,’新薪宜’,’助业贷’,’线下金’,’线下信’,’新薪（’,’助业宜’,’MSE’） then ‘城市信贷’<br>‘’     when substr(product,0,3) in （’网商贷’,’乐购分’,’宜学贷’,’pos贷’,’供应链’,’汽车金’,’宜车购’,’企合消费金融’）   then ‘渠道’<br>‘’     when substr(product,0,3) in （’线上精’,’线上码’,’新线上’）   then ‘宜人线上’<br>‘’     when substr(product,0,3) in （’线上瞬’,’瞬时贷’,’公积金’）   then ‘k计划’<br>‘’     else product  end) 产品线<br>‘’ from (select  transport_id, sum(csdd) as cs_dd , sum(cscl) as cs_cl<br>‘’ from (select  transport_id, process_node,<br>‘’     (case when process_node in (‘2-1’,’2-2’,’2-3’,’2-4’) then all_time else 0 end ) as csdd,(case when process_node in (‘2-0’) then all_time else 0 end ) as cscl<br>‘’<br>‘’ from (select  transport_id, process_node, s_time, e_time, 24<em>(time1+time2+time3 ) as all_time<br>‘’ from (select  transport_id, process_node, s_time, e_time,<br>‘’     (case when to_date(e_time,’yyyy-mm-dd hh24:mi:ss’) &lt;= to_date(‘     2016-03-30    09:30:00’,’yyyy-mm-dd hh24:mi:ss’)  then 0<br>‘’     when to_date(s_time,’yyyy-mm-dd hh24:mi:ss’) &gt;= to_date(‘     2016-03-30    18:30:00’,’yyyy-mm-dd hh24:mi:ss’)  then 0<br>‘’     when to_date(s_time,’yyyy-mm-dd hh24:mi:ss’) &lt;= to_date(‘     2016-03-30    09:30:00’,’yyyy-mm-dd hh24:mi:ss’)  and to_date(e_time,’yyyy-mm-dd hh24:mi:ss’) &gt;= to_date(‘     2016-03-30    18:30:00’,’yyyy-mm-dd hh24:mi:ss’)  then 0.375<br>‘’     when to_date(s_time,’yyyy-mm-dd hh24:mi:ss’) &gt;= to_date(‘     2016-03-30    09:30:00’,’yyyy-mm-dd hh24:mi:ss’)  and to_date(e_time,’yyyy-mm-dd hh24:mi:ss’) &lt;=  to_date(‘     2016-03-30    18:30:00’,’yyyy-mm-dd hh24:mi:ss’)   then to_date(e_time,’yyyy-mm-dd hh24:mi:ss’) - to_date(s_time, ‘yyyy-mm-dd hh24:mi:ss’)<br>‘’     when to_date(s_time,’yyyy-mm-dd hh24:mi:ss’) &lt;= to_date(‘     2016-03-30    09:30:00’,’yyyy-mm-dd hh24:mi:ss’)  and to_date(e_time,’yyyy-mm-dd hh24:mi:ss’) &lt;=  to_date(‘     2016-03-30    18:30:00’,’yyyy-mm-dd hh24:mi:ss’)   then to_date(e_time,’yyyy-mm-dd hh24:mi:ss’) - to_date(‘                    2016-03-30    09:30:00’,’yyyy-mm-dd hh24:mi:ss’）<br>‘’     when to_date(s_time,’yyyy-mm-dd hh24:mi:ss’) &gt;= to_date(‘     2016-03-30    09:30:00’,’yyyy-mm-dd hh24:mi:ss’)  and to_date(e_time,’yyyy-mm-dd hh24:mi:ss’) &gt;=  to_date(‘     2016-03-30    18:30:00’,’yyyy-mm-dd hh24:mi:ss’)   then to_date(‘        2016-03-30    18:30:00’,’yyyy-mm-dd hh24:mi:ss’) - to_date(s_time,’yyyy-mm-dd hh24:mi:ss’)   else  0  end )                         time1    ,<br>‘’<br>‘’     (case when to_date(e_time,’yyyy-mm-dd hh24:mi:ss’) &lt;= to_date(‘     2016-03-31    09:30:00’,’yyyy-mm-dd hh24:mi:ss’)  then 0<br>‘’     when to_date(s_time,’yyyy-mm-dd hh24:mi:ss’) &gt;= to_date(‘     2016-03-31    18:30:00’,’yyyy-mm-dd hh24:mi:ss’)  then 0<br>‘’     when to_date(s_time,’yyyy-mm-dd hh24:mi:ss’) &lt;= to_date(‘     2016-03-31    09:30:00’,’yyyy-mm-dd hh24:mi:ss’)  and to_date(e_time,’yyyy-mm-dd hh24:mi:ss’) &gt;= to_date(‘     2016-03-31    18:30:00’,’yyyy-mm-dd hh24:mi:ss’)  then 0.375<br>‘’     when to_date(s_time,’yyyy-mm-dd hh24:mi:ss’) &gt;= to_date(‘     2016-03-31    09:30:00’,’yyyy-mm-dd hh24:mi:ss’)  and to_date(e_time,’yyyy-mm-dd hh24:mi:ss’) &lt;=  to_date(‘     2016-03-31    18:30:00’,’yyyy-mm-dd hh24:mi:ss’)   then to_date(e_time,’yyyy-mm-dd hh24:mi:ss’) - to_date(s_time, ‘yyyy-mm-dd hh24:mi:ss’)<br>‘’     when to_date(s_time,’yyyy-mm-dd hh24:mi:ss’) &lt;= to_date(‘     2016-03-31    09:30:00’,’yyyy-mm-dd hh24:mi:ss’)  and to_date(e_time,’yyyy-mm-dd hh24:mi:ss’) &lt;=  to_date(‘     2016-03-31    18:30:00’,’yyyy-mm-dd hh24:mi:ss’)   then to_date(e_time,’yyyy-mm-dd hh24:mi:ss’) - to_date(‘                    2016-03-31    09:30:00’,’yyyy-mm-dd hh24:mi:ss’）<br>‘’     when to_date(s_time,’yyyy-mm-dd hh24:mi:ss’) &gt;= to_date(‘     2016-03-31    09:30:00’,’yyyy-mm-dd hh24:mi:ss’)  and to_date(e_time,’yyyy-mm-dd hh24:mi:ss’) &gt;=  to_date(‘     2016-03-31    18:30:00’,’yyyy-mm-dd hh24:mi:ss’)   then to_date(‘        2016-03-31    18:30:00’,’yyyy-mm-dd hh24:mi:ss’) - to_date(s_time,’yyyy-mm-dd hh24:mi:ss’)   else  0  end )                         time2    ,<br>‘’<br>‘’     (case when to_date(e_time,’yyyy-mm-dd hh24:mi:ss’) &lt;= to_date(‘     2016-04-01    09:30:00’,’yyyy-mm-dd hh24:mi:ss’)  then 0<br>‘’     when to_date(s_time,’yyyy-mm-dd hh24:mi:ss’) &gt;= to_date(‘     2016-04-01    18:30:00’,’yyyy-mm-dd hh24:mi:ss’)  then 0<br>‘’     when to_date(s_time,’yyyy-mm-dd hh24:mi:ss’) &lt;= to_date(‘     2016-04-01    09:30:00’,’yyyy-mm-dd hh24:mi:ss’)  and to_date(e_time,’yyyy-mm-dd hh24:mi:ss’) &gt;= to_date(‘     2016-04-01    18:30:00’,’yyyy-mm-dd hh24:mi:ss’)  then 0.375<br>‘’     when to_date(s_time,’yyyy-mm-dd hh24:mi:ss’) &gt;= to_date(‘     2016-04-01    09:30:00’,’yyyy-mm-dd hh24:mi:ss’)  and to_date(e_time,’yyyy-mm-dd hh24:mi:ss’) &lt;=  to_date(‘     2016-04-01    18:30:00’,’yyyy-mm-dd hh24:mi:ss’)   then to_date(e_time,’yyyy-mm-dd hh24:mi:ss’) - to_date(s_time, ‘yyyy-mm-dd hh24:mi:ss’)<br>‘’     when to_date(s_time,’yyyy-mm-dd hh24:mi:ss’) &lt;= to_date(‘     2016-04-01    09:30:00’,’yyyy-mm-dd hh24:mi:ss’)  and to_date(e_time,’yyyy-mm-dd hh24:mi:ss’) &lt;=  to_date(‘     2016-04-01    18:30:00’,’yyyy-mm-dd hh24:mi:ss’)   then to_date(e_time,’yyyy-mm-dd hh24:mi:ss’) - to_date(‘                    2016-04-01    09:30:00’,’yyyy-mm-dd hh24:mi:ss’）<br>‘’     when to_date(s_time,’yyyy-mm-dd hh24:mi:ss’) &gt;= to_date(‘     2016-04-01    09:30:00’,’yyyy-mm-dd hh24:mi:ss’)  and to_date(e_time,’yyyy-mm-dd hh24:mi:ss’) &gt;=  to_date(‘     2016-04-01    18:30:00’,’yyyy-mm-dd hh24:mi:ss’)   then to_date(‘        2016-04-01    18:30:00’,’yyyy-mm-dd hh24:mi:ss’) - to_date(s_time,’yyyy-mm-dd hh24:mi:ss’)   else  0  end )                         time3<br>‘’<br>‘’ from    (select transport_id from<br>‘’     ( select  transport_id,max(decesion_id) as decision_id  from  clic_sele_v.v_xg_tc_busi_decision<br>‘’     where  to_date(inspection_time,’yyyy-mm-dd hh24:mi:ss’)&gt;to_date(‘    2016-06-08    17:30:01’,’yyyy-mm-dd hh24:mi:ss’)  and  to_date(inspection_time,’yyyy-mm-dd hh24:mi:ss’)<to_date(' 2016-06-12="" 17:30:00','yyyy-mm-dd="" hh24:mi:ss')="" and="" data_source="2" is_decision="1" group="" by="" transport_id="" )="" ''="" natural="" left="" join="" (select="" transport_id,="" process_node="" from="" min(n_log_id)="" as="" n_log_id="" decision_id,="" flow_log_id="" ,="" (="" select="" transport_id,max(decesion_id)="" decision_id="" clic_sele_v.v_xg_tc_busi_decision="" where="" to_date(inspection_time,'yyyy-mm-dd="">to_date(‘    2016-06-08    17:30:01’,’yyyy-mm-dd hh24:mi:ss’)  and  to_date(inspection_time,’yyyy-mm-dd hh24:mi:ss’)<to_date(' 2016-06-12="" 17:30:00','yyyy-mm-dd="" hh24:mi:ss')="" and="" data_source="" in（'2','3')="" is_decision="1" group="" by="" transport_id="" )="" ''="" natural="" left="" join="" (select="" decesion_id="" as="" decision_id,="" flow_log_id="" from="" clic_sele_v.v_xg_tc_flow_log)="" ,="" n_log_id="" where="">flow_log_id   group by transport_id  )<br>‘’     natural  left join (select flow_log_id as n_log_id, process_node from clic_sele_v.v_xg_tc_flow_log ) )<br>‘’     natural left join ( select transport_id, min(flow_log_id) as flow_2  from clic_sele_v.v_xg_tc_flow_log  where process_node in (‘5-1’,’6-1’,’1-2’,’15-3’) group by transport_id)<br>‘’     where process_node in (‘11-1’,’11-2’,’20-1’)  and flow_2 is  null )<br>‘’ natural left  join<br>‘’<br>‘’     (select     transport_id,  process_node,  s_time1 as s_time,<br>‘’           case when  s_time1&gt;=e_time1  and e_time1 is not null then  s_time2<br>‘’            else  e_time1 end e_time<br>‘’     from      ( select rownum+1 rn, transport_id, process_node, s_time1, e_time1<br>‘’             from        ( select<br>‘’                          transport_id,  process_node,<br>‘’                          nvl(start_time, create_date)  s_time1,<br>‘’                          nvl(end_time,assign_time) e_time1<br>‘’                     FROM clic_sele_v.v_xg_tc_flow_log<br>‘’             where to_date(create_date,’yyyy-mm-dd hh24:mi:ss’)&gt; to_date(‘2015-10-01 00:00:01’,’yyyy-mm-dd hh24:mi:ss’)<br>‘’                    order by transport_id , flow_log_id       )<br>‘’         )<br>‘’     natural left join      ( select  </to_date('></to_date('></em><br>‘’             from         (     select rownum rn, s_time2<br>‘’                       from<br>‘’                         (  select<br>‘’                             nvl(start_time, create_date)  s_time2<br>‘’                             from  clic_sele_v.v_xg_tc_flow_log<br>‘’             where to_date(create_date,’yyyy-mm-dd hh24:mi:ss’)&gt; to_date(‘2015-10-01 00:00:01’,’yyyy-mm-dd hh24:mi:ss’)<br>‘’                             order by transport_id , flow_log_id     )<br>‘’                       )<br>‘’             where rn!=1<br>‘’         )<br>‘’     )<br>‘’ ))) group by transport_id )<br>‘’ natural left  join ( select transport_id, product_type,submit_dept_no as dept_id from clic_sele_v.v_xg_tc_bs_transport )<br>‘’ natural left  join ( select dept_id ,dept_name from clic_sele_v.v_xg_TC_BS_DEPARTMENT )<br>‘’ natural left  join ( select system_id as product_type , remark as product from clic_sele_v.v_xg_s_data_dic where  system_type=’COMMON_PRODUCT_TYPE’)<br>‘’<br>‘’ natural left join<br>‘’ (select transport_id,beg_jude_name as cs<br>‘’ from<br>‘’  (SELECT transport_id, inspection_man from clic_sele_v.v_xg_tc_busi_decision<br>‘’     where  decesion_id  in<br>‘’     ( select max(decesion_id) as decision_id from clic_sele_v.v_xg_tc_busi_decision<br>‘’     where  data_source=’2’ and  is_decision=’1’<br>‘’     group by  transport_id ))<br>‘’ natural left join<br>‘’ (select distinct user_code as inspection_man,user_name as beg_jude_name<br>‘’ from clic_sele_v.v_xg_tc_user))<br>‘’ ) kx<br>‘’ group by kx.产品线, kx.初审                                                                            </p>
<h2 id="‘’-order-by-kx-产品线"><a href="#‘’-order-by-kx-产品线" class="headerlink" title="‘’ order by kx.产品线                                                                             "></a>‘’ order by kx.产品线                                                                             </h2><p>不得不说虽然很丑很长，但是，我是说但是，考虑了所有的流程的情况，神马提交的反欺诈、二次协商问题、回退问题等等….统统考虑进去，效率在三分钟以内，对于全线产品来说是通用的！感觉自己的逻辑又有了新的境界！毕竟真的是和一线的审核和系统的技术人员擦出了绳命的火花！</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/23/prototype/" itemprop="url">
                  部分原型
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-08-23T21:52:09+08:00" content="2016-08-23">
              2016-08-23
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>结游–原型图（部分）</p>
<h2 id="原型"><a href="#原型" class="headerlink" title="原型"></a>原型</h2><p><img src="http://ocf3bi6ej.bkt.clouddn.com/login@1x.jpg" alt="login"><br><img src="http://ocf3bi6ej.bkt.clouddn.com/main.jpg" alt="main"><br><img src="http://ocf3bi6ej.bkt.clouddn.com/%E4%BA%8C%E7%BA%A7%E9%A1%B5%E9%9D%A2.jpg" alt="二级"><br><img src="http://ocf3bi6ej.bkt.clouddn.com/%E4%B8%89%E7%BA%A7%E9%A1%B5%E9%9D%A2.jpg" alt="三级"><br><img src="http://ocf3bi6ej.bkt.clouddn.com/%E4%BA%94%E7%BA%A7%E9%A1%B5%E9%9D%A2.jpg" alt="五级"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/22/字段总结/" itemprop="url">
                  字段总结
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-08-22T05:05:14+08:00" content="2016-08-22">
              2016-08-22
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="数据库字段问题总结"><a href="#数据库字段问题总结" class="headerlink" title="数据库字段问题总结"></a>数据库字段问题总结</h2><h2 id=""><a href="#" class="headerlink" title=" "></a><img src="https://ss0.bdstatic.com/94oJfD_bAAcT8t7mm9GUKT-xh_/timg?image&amp;quality=100&amp;size=b4000_4000&amp;sec=1464330278&amp;di=9bbde7338f71ce42831178f71f2d37e0&amp;src=http://www.36dsj.com/wp-content/uploads/2015/02/1222.jpg" alt="angry birds"> </h2><h2 id="问题汇总："><a href="#问题汇总：" class="headerlink" title="问题汇总："></a>问题汇总：</h2><table>
<thead>
<tr>
<th>库名</th>
<th>字段</th>
<th>表名</th>
<th>存在问题</th>
</tr>
</thead>
<tbody>
<tr>
<td>db4g</td>
<td>recruitment_date（入职时间）</td>
<td>借款人表 (TC_MORTGAGOR)</td>
<td>2016年一月部分数据存在格式问题并且部分没有数据，eg0015-08-31，无法参与字段计算</td>
</tr>
<tr>
<td>db4g</td>
<td>month_income（月认定收入）</td>
<td>收入流水表(TC_SALARY)</td>
<td>数据存在部分缺失，大部分属于宜人贷拒贷产品，但是拒贷产品因为流水问题会录入流水</td>
</tr>
<tr>
<td>db4g</td>
<td>content_type(社保公积金类型) ;   month_payment_base(缴纳基数）</td>
<td>社保费用缴纳证件表(TC_IDENTIFI_WELFARE)</td>
<td>缴纳基数部分缺失，大部分属于宜人贷拒贷产品未录入</td>
</tr>
<tr>
<td>db4g</td>
<td>charge_against_liabilities</td>
<td>信贷汇总表</td>
<td>数据存在部分缺失，大部分属于宜人贷拒贷产品，存在客户没有信用负债情况</td>
</tr>
<tr>
<td>db4g</td>
<td>tc_loan_summary</td>
<td>信贷汇总表</td>
<td>数据库显示表名为loan_summary,实际使用时要去掉表名中的C</td>
</tr>
<tr>
<td>bi</td>
<td>apply_id(varchar2)</td>
<td>bi_ods.v_CE_borrow</td>
<td>字段格式不同，需要用cast()转换,union的时候要统一字段格式</td>
</tr>
<tr>
<td>bi</td>
<td>clic_apply_id(number)</td>
<td>bi_ods.yrd_audit</td>
<td>字段格式不同，需要用cast()转换,union的时候要统一字段格式</td>
</tr>
</tbody>
</table>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/07/Faded/" itemprop="url">
                  Faded
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-08-07T22:00:56+08:00" content="2016-08-07">
              2016-08-07
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h2 id="关于电子乐"><a href="#关于电子乐" class="headerlink" title="关于电子乐"></a>关于电子乐</h2><p>当’Faded’已经响彻大街小巷，感觉真正的电子乐的时代才算是真正的到来，上海每年的风暴电音节也是让大家乐此不疲，想起了A神的炒饭手</p>
<p>这个坑得慢慢填，最近要填的坑实在太多，先把R的坑填上再说，知乎还真是个好东西自从有了值乎已经效率高多了,R对于我来说还是不够熟悉，不过经过一周的学习已经有了初步的掌握，手里画出的图也还比较像样儿，准备在下周上图，本周计划基本上完成，但是远不够完美，在磕磕绊绊的路上也算是慢慢前进中，非常喜欢自己这个学习的过程，知道了回归分析，grep是个好函数,apriori，，data.table 中的fread（）是非常好用的函数，可以读取超大的数据集，简直是受益无穷<br>这两天的计划很严峻，写resume，写blog然后再理论上进行学习</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/08/03/data in the midnight/" itemprop="url">
                  stay up all night
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-08-03T21:58:01+08:00" content="2016-08-03">
              2016-08-03
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="说几句"><a href="#说几句" class="headerlink" title="说几句"></a>说几句</h2><p>昨晚是加班最晚的一次，深夜回到家已经两点半了，可是却异常的难以入睡，对于平常的我来说，这个时候不睡应该是兴奋的写出了新东西，但是此刻的我却因为代码跑不出而辗转反侧，明明上个月还完好的代码此刻却匹配不出一些该有的字段，不过今天中午的时候再次遇到这个问题，初步断定了并非是代码的问题，应给是虚拟机下的SAS环境的问题，这也让我对SAS有了一个更加深刻的‘印象’，好吧 估计这也和虚拟机有关，想到了自己未来的道路自己很是兴奋的，其实我只是在等待离开</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/23/小感想/" itemprop="url">
                  对于前端的突发奇想
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-07-23T21:20:35+08:00" content="2016-07-23">
              2016-07-23
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>关于最近的一些小感想</p>
<h2 id="小感想"><a href="#小感想" class="headerlink" title="小感想"></a>小感想</h2><hr>
<p>最近看到一句话，突然很想写下来：回头望去，满眼都是回不去的年少时光。尤其是对于最近，搬了家之后，技术上有些滞后了，感觉要看的东西太多了，不知道从哪里先下手，希望自己不要在n段时间后，回想自己的年少时光都用在了提前‘享受’生活的时光中。今天看到了Fullpage.js和move.js感觉真的是眼前一亮的库！！决定用fullpage做一个resume，之前还比较看好bootstrap，只是现在有太多要去实践！</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/07/07/My Next Chapter/" itemprop="url">
                  We needn' t say goodbye
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">Posted on</span>
            <time itemprop="dateCreated" datetime="2016-07-07T05:15:12+08:00" content="2016-07-07">
              2016-07-07
            </time>
          </span>

          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>“My Next Chapter”</p>
<h2 id="结束是另一个开始"><a href="#结束是另一个开始" class="headerlink" title="结束是另一个开始"></a>结束是另一个开始</h2><hr>
<p>我还想起，应该有很多很多的未说呢…….</p>
<p>但其实怎样也好，</p>
<p>真的祝福你在那边也能打球愉快，得到你真实想要的</p>
<p>而且我还真的很希望，杜兰特记得在雷霆打了几百场比赛所学到的一切，说不定在那边也会用得上的！</p>
<p>结束是另一个开始</p>
<p>We needn’ t say goodbye……</p>
<p>“My Next Chapter”</p>
<p><img src="http://i2.hoopchina.com.cn/blogfile/201607/05/BbsImg146769941937323_858x623.png" alt="Durant"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://ww4.sinaimg.cn/mw690/006jaHZbjw1f4s3hi2b9jj30hs0hst9s.jpg"
               alt="Live" />
          <p class="site-author-name" itemprop="name">Live</p>
          <p class="site-description motion-element" itemprop="description">The geek's spirit place</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">15</span>
              <span class="site-state-item-name">posts</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">tags</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Live</span>
</div>

<div class="powered-by">
  Powered by <a class="theme-link" href="http://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  




  
  

  

  

  

</body>
</html>
